# ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 401 Unauthorized

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
```
‚ùå 401 Unauthorized –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ Supabase
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –∑–∞ 5 –º–∏–Ω—É—Ç

### 1Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á

**Supabase Dashboard** ‚Üí **Settings** ‚Üí **API** ‚Üí –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **`service_role`** –∫–ª—é—á

‚ö†Ô∏è –ù–ï `anon` –∫–ª—é—á! –ù—É–∂–µ–Ω –∏–º–µ–Ω–Ω–æ `service_role`!

### 2Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ –≤ Render

**Render Dashboard** ‚Üí –í–∞—à —Å–µ—Ä–≤–∏—Å ‚Üí **Environment**:

```
SUPABASE_URL = https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_SERVICE_ROLE_KEY = eyJ... (–¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á)
```

‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ù–ï–¢ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ!

### 3Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ

**Manual Deploy** ‚Üí **Clear build cache & deploy**

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
‚úÖ Supabase –∫–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ Supabase connection test: SUCCESS
```

---

## üîç –í—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. ‚ùì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `service_role` –∫–ª—é—á (–Ω–µ `anon`)?
2. ‚ùì –ö–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJ`)?
3. ‚ùì –ù–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è?
4. ‚ùì –ü—Ä–æ–µ–∫—Ç Supabase –∞–∫—Ç–∏–≤–µ–Ω (–Ω–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)?

### –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:

–õ–æ–∫–∞–ª—å–Ω–æ:
```bash
python test_supabase_connection.py
```

–ù–∞ Render - –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤ Start Command:
```bash
python test_supabase_connection.py && python main.py
```

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–°–º. `FIX_401_UNAUTHORIZED.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞.

---

## üí° –ö–æ–¥ –±—ã–ª –æ–±–Ω–æ–≤–ª–µ–Ω

–¢–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –∏–∑ –∫–ª—é—á–µ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–µ 401

**–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥!**
