# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–±–æ—è Trading Core –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Supabase

## üìä –°—Ç–∞—Ç—É—Å
‚úÖ **–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–±–æ–µ–≤**

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 11 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.0 (Critical Stability Update)

---

## üéØ –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
- Supabase –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ ‚úÖ
- –ù–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚ùå
- Exit Status 1 –∏–ª–∏ Internal Server Error

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
Trading Core –ø—ã—Ç–∞–ª—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ç–∞–±–ª–∏—Ü–∞–º Supabase (`strategy_settings`, `signal_requests`, `trades`), –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç:
1. –ù–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
2. –ò–º–µ—Ç—å —Å—Ç—Ä–æ–≥–∏–µ RLS (Row Level Security) –ø–æ–ª–∏—Ç–∏–∫–∏
3. –ë—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

–ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–ø–∞–¥–∞–ª–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é** –≤–º–µ—Å—Ç–æ graceful degradation.

---

## üõ†Ô∏è –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #1: –ó–∞—â–∏—Ç–∞ –º–µ—Ç–æ–¥–∞ `fetch_strategy()`
**–§–∞–π–ª:** `main.py`, —Å—Ç—Ä–æ–∫–∏ 50-73

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
response = self.supabase.table("strategy_settings").select("*")...
# –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–∞–±–ª–∏—Ü—ã ‚Üí Exception ‚Üí Exit Status 1
```

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –û–±–µ—Ä–Ω—É–ª–∏ –∑–∞–ø—Ä–æ—Å –≤ try-except
- ‚úÖ –ü—Ä–∏ –æ—à–∏–±–∫–µ –ª–æ–≥–∏—Ä—É–µ–º WARNING –≤–º–µ—Å—Ç–æ ERROR
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω stack trace –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```python
except Exception as e:
    logger.warning(f"‚ö†Ô∏è Could not fetch strategy (table may not exist yet): {e}")
    logger.debug(f"Stack trace:\n{traceback.format_exc()}")
    logger.info("üìç Continuing with default settings...")
    self.current_strategy = None
```

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #2: –ó–∞—â–∏—Ç–∞ –º–µ—Ç–æ–¥–∞ `check_and_execute_trades()`
**–§–∞–π–ª:** `main.py`, —Å—Ç—Ä–æ–∫–∏ 195-238

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
response = self.supabase.table("signal_requests").select(...)
# –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–∞–±–ª–∏—Ü—ã ‚Üí Exception ‚Üí Exit Status 1
```

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ç–∞–±–ª–∏—Ü—ã `signal_requests`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–µ–π–¥–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤

```python
try:
    response = self.supabase.table("signal_requests")...
except Exception as e:
    logger.warning(f"‚ö†Ô∏è Could not fetch signal requests (table may not exist yet)")
    logger.debug("üìç Skipping trade execution for this cycle...")
    return  # –ù–µ –ø–∞–¥–∞–µ–º, –∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Ü–∏–∫–ª
```

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #3: –ó–∞—â–∏—Ç–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–π–¥–æ–≤
**–§–∞–π–ª:** `autotrader_service.py`, —Å—Ç—Ä–æ–∫–∏ 110-126

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
supabase_client.table("trades").insert({...}).execute()
# –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–∞–±–ª–∏—Ü—ã ‚Üí Exception ‚Üí –≤–µ—Å—å —Ç—Ä–µ–π–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ—É–¥–∞—á–Ω—ã–º
```

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –¢—Ä–µ–π–¥ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ PO –¥–∞–∂–µ –µ—Å–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ë–î –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Warning –≤–º–µ—Å—Ç–æ Error –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ë–î
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ID —Ç—Ä–µ–π–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å –∫–∞–∫ fallback

```python
try:
    supabase_client.table("trades").insert({...}).execute()
    logger.info(f"‚úÖ Trade placed and logged to Supabase")
except Exception as e:
    logger.warning(f"‚ö†Ô∏è Trade placed but could not log to Supabase")
    logger.info(f"‚úÖ Trade ID: {trade_id} (not logged to DB)")
```

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è Supabase
**–§–∞–π–ª:** `main.py`, —Å—Ç—Ä–æ–∫–∏ 48-63, 255-258

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:**
```python
async def test_supabase_connection(self) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Supabase –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."""
    try:
        logger.info("üîç Testing Supabase connection...")
        response = self.supabase.rpc('version', {}).execute()
        logger.info("‚úÖ Supabase connection test: SUCCESS")
        return True
    except Exception as e:
        logger.warning(f"‚ö†Ô∏è Supabase connection test failed: {e}")
        logger.info("üìç Core will continue, but database operations may fail.")
        return False
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –†–∞–Ω–Ω—è—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #5: –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–§–∞–π–ª—ã:** `main.py`, `autotrader_service.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `traceback`
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —Ç–µ–ø–µ—Ä—å –≤—ã–≤–æ–¥—è—Ç stack trace
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ ERROR (–∫—Ä–∏—Ç–∏—á–Ω–æ) –∏ WARNING (–º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å)
- ‚úÖ DEBUG –ª–æ–≥–∏ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```python
except Exception as e:
    logger.error(f"‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: {e}")
    logger.error(f"Stack trace:\n{traceback.format_exc()}")
```

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #6: –ó–∞—â–∏—Ç–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
**–§–∞–π–ª:** `main.py`, —Å—Ç—Ä–æ–∫–∏ 260-284

**–ü—Ä–æ–±–ª–µ–º–∞:**
–õ—é–±–∞—è –æ—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º —Ü–∏–∫–ª–µ –∞–Ω–∞–ª–∏–∑–∞ ‚Üí –ø–æ–ª–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
```python
while True:
    try:
        # –í–µ—Å—å –∫–æ–¥ —Ü–∏–∫–ª–∞
        await self.fetch_strategy()
        market_data = await self.fetch_market_data()
        signals = self.apply_algorithm(market_data)
        await self.check_and_execute_trades(signals)
        
    except Exception as e:
        logger.error(f"‚ùå Critical error in main cycle: {e}")
        logger.error(f"Stack trace:\n{traceback.format_exc()}")
        logger.info("üìç Continuing to next cycle despite error...")
        # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –ø–∞–¥–∞–µ—Ç, –∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É!
```

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ –∏–∑–º–µ–Ω–µ–Ω—ã | –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏–π |
|------|-----------------|---------------|
| `main.py` | +47, -7 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| `autotrader_service.py` | +12, -5 | –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ |
| `STARTUP_CRASH_FIX.md` | +300 | –ù–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

---

## üéØ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ Graceful Degradation (–ò–∑—è—â–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è)

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
```
Supabase –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω ‚úÖ
‚Üí –ó–∞–ø—Ä–æ—Å –∫ strategy_settings
‚Üí –¢–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
‚Üí Exception
‚Üí Exit Status 1 üí•
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
```
Supabase –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω ‚úÖ
‚Üí –ó–∞–ø—Ä–æ—Å –∫ strategy_settings
‚Üí –¢–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
‚Üí ‚ö†Ô∏è Warning –≤ –ª–æ–≥–∏
‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É ‚úÖ
```

### ‚úÖ –°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã Supabase –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, –Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ–∑–∂–µ:
- Core –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ü–∏–∫–ª–µ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–í –ª–æ–≥–∞—Ö Render —Ç–µ–ø–µ—Ä—å –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
============================================================
üöÄ Trading Core Starting...
============================================================
–°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  SUPABASE_URL: ‚úÖ
  SUPABASE_SERVICE_ROLE_KEY: ‚úÖ
  ANALYSIS_INTERVAL: ‚úÖ (10s)
  DEFAULT_ASSET: ‚úÖ (EURUSD=X)
============================================================
‚úÖ Supabase –∫–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
üîç Testing Supabase connection...
‚ö†Ô∏è Supabase connection test failed: relation "public.strategy_settings" does not exist
üìç Core will continue, but database operations may fail.
üí° Make sure your Supabase tables exist and RLS policies allow service_role access.
============================================================
Core starting up...
‚úÖ Cycle completed in 2.34s. Sleeping for 7.66s...
```

---

## üîç –ö–∞–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–∞–±–ª–∏—Ü—ã Supabase –Ω–µ —Å–æ–∑–¥–∞–Ω—ã

**–õ–æ–≥–∏:**
```
‚ö†Ô∏è Could not fetch strategy from Supabase (table may not exist yet)
üìç Continuing with default settings...
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–π–¥–∏—Ç–µ –≤ Supabase Dashboard ‚Üí SQL Editor
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:
```sql
CREATE TABLE strategy_settings (
    id SERIAL PRIMARY KEY,
    name TEXT,
    is_active BOOLEAN,
    assets_to_monitor TEXT[],
    allow_trading BOOLEAN,
    default_amount DECIMAL,
    default_timeframe INTEGER,
    rsi_period INTEGER,
    rsi_oversold INTEGER,
    rsi_overbought INTEGER
);

CREATE TABLE signal_requests (
    id SERIAL PRIMARY KEY,
    user_id BIGINT,
    status TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE trades (
    id SERIAL PRIMARY KEY,
    user_id BIGINT,
    trade_id TEXT,
    asset TEXT,
    direction TEXT,
    status TEXT,
    amount DECIMAL,
    timeframe INTEGER,
    created_at TIMESTAMP
);
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: RLS –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø

**–õ–æ–≥–∏:**
```
‚ö†Ô∏è Supabase connection test failed: permission denied for table strategy_settings
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –í Supabase Dashboard ‚Üí Authentication ‚Üí Policies
2. –î–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É:
```sql
-- –†–∞–∑—Ä–µ—à–∏—Ç—å service_role –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
CREATE POLICY "Service role has full access" ON strategy_settings
FOR ALL TO service_role USING (true) WITH CHECK (true);

CREATE POLICY "Service role has full access" ON signal_requests
FOR ALL TO service_role USING (true) WITH CHECK (true);

CREATE POLICY "Service role has full access" ON trades
FOR ALL TO service_role USING (true) WITH CHECK (true);
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ù–µ–≤–µ—Ä–Ω—ã–π SUPABASE_SERVICE_ROLE_KEY

**–õ–æ–≥–∏:**
```
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Supabase –∫–ª–∏–µ–Ω—Ç–∞: Invalid API key
Stack trace:
  File "main.py", line 41, in __init__
    self.supabase = create_client(SUPABASE_URL, SUPABASE_KEY)
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–π–¥–∏—Ç–µ –≤ Supabase Dashboard ‚Üí Settings ‚Üí API
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **service_role** key (–Ω–µ anon!)
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ Render Environment Variables

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ü–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º:

- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `SUPABASE_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `SUPABASE_SERVICE_ROLE_KEY` - —ç—Ç–æ –∏–º–µ–Ω–Ω–æ service_role (–Ω–µ anon)
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `API_ENDPOINT` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ UI-Bot
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `ENCRYPTION_KEY` –≤–∞–ª–∏–¥–Ω—ã–π Fernet –∫–ª—é—á
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TELEGRAM_BOT_TOKEN_ADMIN` –∞–∫—Ç—É–∞–ª–µ–Ω

### –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å "Deployed" –∏–ª–∏ "Live"
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–∏—Ç–µ "‚úÖ Supabase –∫–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"
- [ ] –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "‚ö†Ô∏è Could not fetch strategy" - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –Ω–∞ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–∏—Ç–µ "‚úÖ Cycle completed" –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- [ ] –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase (—Å–º. –°—Ü–µ–Ω–∞—Ä–∏–π 1 –≤—ã—à–µ)
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –Ω–∞ Render –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

---

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- ‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–ª–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–∞–±–ª–∏—Ü
- ‚ùå –ù–µ—è—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- ‚ùå –¢—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î –¥–ª—è –∑–∞–ø—É—Å–∫–∞

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç –≤—Å–µ–≥–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å SUPABASE_URL –∏ KEY)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–∞–±–ª–∏—Ü
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å stack traces
- ‚úÖ –°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ö–∞–∂–¥—ã–π —Ü–∏–∫–ª –∑–∞—â–∏—â–µ–Ω –æ—Ç —Å–±–æ–µ–≤
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª:** `main.py`
- **–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ç–æ—Ä–≥–æ–≤–ª–∏:** `autotrader_service.py`
- **–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** `FIXES_SUMMARY.md`
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:** `RENDER_SETUP.md`

---

## üí° –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **Core —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ "fail-safe"** - –ª—é–±–∞—è –Ω–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–∞–¥–µ–Ω–∏—é –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–õ–æ–≥–∏ —Å—Ç–∞–ª–∏ –Ω–∞–º–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–µ–µ** - –≤—ã —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç–µ —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã

3. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "—Å–∞–º–æ–∑–∞–∂–∏–≤–ª—è–µ—Ç—Å—è"** - –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ–∑–∂–µ, Core –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

4. **Graceful degradation** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ä–∞–±–æ—Ç—É

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω  
**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** ‚úÖ –ü–æ–ª–Ω–∞—è
